<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="utf-8">
	<title>Geoloc HTML IESA</title>
	<script>

	function getMyPosition(myPosition) {
		var infoGeoloc = "Lattitude : " + myPosition.coords.latitude;
		infoGeoloc += "<br />Longitude : " + myPosition.coords.longitude;
		infoGeoloc += "<br />Altitude : " + myPosition.coords.altitude;

		document.getElementById("localisation").innerHTML = infoGeoloc;
	}

	function displayPosition(myPosition) {
		var infoPosition = "Lattitude : " + myPosition.coords.latitude;
		infoPosition += "<br />Longitude : " + myPosition.coords.longitude;
		infoPosition += "<br />Altitude : " + myPosition.coords.altitude;
		infoPosition += "<br />Vitesse : " + myPosition.coords.speed;
		
		document.getElementById("localisation").innerHTML = infoPosition;
	}

	function showError(error) {
		switch(error.code) {
		    case error.PERMISSION_DENIED:
		        alert("Vous n'avez pas autorisé la geolocalisation sur votre navigateur.");
		        break;
		    case error.POSITION_UNAVAILABLE:
		        alert("Votre position n'est pas disponible.");
		        break;
		    case error.TIMEOUT:
		        alert("La position n'a ^pu être déterminée.");
		        break;
		    default:
		        alert("Erreur inconnnue");
		}
	}

	if(navigator.geolocation){
		//alert('L\'API de geolocalisation en HTML est disponible');
		//navigator.geolocation.getCurrentPosition(getMyPosition);
		navigator.geolocation.watchPosition(displayPosition, showError);
	} else {
		document.getElementById("localisation").innerHTML = "Votre navigateur ne prend pas en compte la géolocalisation HTML5";
	}

	</script>
	<style>
		body {
			font-family: Arial, Helvetica, sans-serif;
			text-align: center;
		}
		#localisation, #localisation2 {
			background: tomato;
			font-weight: bold;
			color: #fff;
			display: inline-block;
			padding: 20px;
		}
	</style>
</head>
<body>
	<h2>Ma géolocalisation</h2>
	<p id="localisation">Zone de présentation des informations de géolocalisation.</p>
</body>
</html>